<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Thumbnail Prompt Synthesizer</title>
    <style>
        :root {
            --bg-primary: #0a0f1f; /* Deep space blue/purple */
            --bg-secondary: #1a1f36; /* Slightly lighter */
            --bg-tertiary: #2a2f4d;
            --accent-primary: #8A2BE2; /* Vibrant Purple */
            --accent-secondary: #FF00FF; /* Magenta/Pink */
            --accent-glow: rgba(138, 43, 226, 0.7);
            --text-primary: #e0e0ff; /* Light lavender/white */
            --text-secondary: #b0b0d0;
            --border-color: rgba(138, 43, 226, 0.3);
            --font-main: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
        }

        @keyframes backgroundShine {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes pulseGlow {
            0% { box-shadow: 0 0 5px var(--accent-glow), 0 0 10px var(--accent-glow); }
            50% { box-shadow: 0 0 15px var(--accent-glow), 0 0 25px var(--accent-glow); }
            100% { box-shadow: 0 0 5px var(--accent-glow), 0 0 10px var(--accent-glow); }
        }
        
        @keyframes subtleRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        body {
            font-family: var(--font-main);
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, var(--bg-primary) 0%, #050810 25%, var(--bg-secondary) 50%, #050810 75%, var(--bg-primary) 100%);
            background-size: 400% 400%;
            animation: backgroundShine 20s ease infinite;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--text-primary);
            overflow: hidden; /* Prevent scrollbars from large animated background */
        }

        #chat-container {
            width: 95%;
            max-width: 750px; /* Wider for premium feel */
            background-color: rgba(10, 15, 31, 0.85); /* Dark, slightly transparent */
            backdrop-filter: blur(10px); /* Frosted glass effect */
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 16px; /* More rounded */
            box-shadow: 0 8px 32px rgba(138, 43, 226, 0.2), 0 0 60px rgba(10,15,31,0.5) inset;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            height: 90vh; /* Taller */
            position: relative; /* For pseudo-elements if needed */
        }

        #chat-header {
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 1.5em; /* Larger */
            font-weight: 600; /* Bolder */
            text-shadow: 0 1px 3px rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--accent-secondary);
        }

        #chat-log {
            flex-grow: 1;
            padding: 25px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--accent-primary) var(--bg-secondary);
        }

        #chat-log::-webkit-scrollbar {
            width: 8px;
        }
        #chat-log::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: 4px;
        }
        #chat-log::-webkit-scrollbar-thumb {
            background-color: var(--accent-primary);
            border-radius: 4px;
            border: 2px solid var(--bg-secondary);
        }

        .message {
            margin-bottom: 20px;
            padding: 15px 20px;
            border-radius: 12px; 
            line-height: 1.6;
            max-width: 85%;
            position: relative;
            word-wrap: break-word;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .user-message {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
            align-self: flex-end;
            margin-left: auto;
            text-align: right;
            border-left: 3px solid var(--accent-secondary);
        }

        .ai-message {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            align-self: flex-start;
            margin-right: auto;
            white-space: pre-wrap; 
            border-left: 3px solid var(--accent-primary);
        }
        .ai-message strong { 
            color: var(--accent-secondary);
            font-weight: 600;
        }
         .ai-message em {
            color: #00FFFF; /* Cyan for italics from AI */
            font-style: italic;
        }

        #input-area {
            display: flex;
            padding: 20px;
            border-top: 1px solid var(--border-color);
            background-color: rgba(10, 15, 31, 0.9); /* Consistent dark */
        }

        #user-input {
            flex-grow: 1;
            padding: 15px 20px;
            border: 1px solid var(--border-color);
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border-radius: 25px; /* Pill shape */
            margin-right: 15px;
            font-size: 1em;
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        #user-input:focus {
            border-color: var(--accent-primary);
            box-shadow: 0 0 10px var(--accent-glow);
        }

        #send-button {
            padding: 15px 30px;
            background: linear-gradient(45deg, var(--accent-primary), var(--accent-secondary));
            color: white;
            border: none;
            border-radius: 25px; /* Pill shape */
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: transform 0.2s ease, box-shadow 0.3s ease;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        #send-button:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 5px 15px var(--accent-glow);
        }
        #send-button:active {
            transform: scale(1.02) translateY(-1px);
        }

        #loading {
            text-align: center;
            padding: 15px;
            color: var(--text-secondary);
            font-style: italic;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #loading::before { /* Simple CSS spinner */
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border: 3px solid var(--text-secondary);
            border-top-color: var(--accent-primary);
            border-radius: 50%;
            animation: subtleRotate 1s linear infinite;
        }

        /* START: Added styles for responsiveness */
        @media (max-width: 600px) {
            #chat-container {
                width: 100%; /* Full width on small screens */
                max-width: none; /* Override desktop max-width */
                height: 100vh; /* Occupy full viewport height */
                border-radius: 0; /* Remove rounded corners for a full-screen feel */
                border-left: none; /* Remove side borders */
                border-right: none;
                /* Optional: To make it completely seamless, you could remove top/bottom borders too */
                /* border-top: none; */
                /* border-bottom: none; */
                box-shadow: 0 0 40px rgba(10,15,31,0.4) inset; /* Keep inset shadow, remove or reduce outer shadow */
            }

            #chat-header {
                padding: 15px; /* Slightly reduced padding */
                font-size: 1.2em; /* Slightly smaller font size */
            }

            #chat-log {
                padding: 15px 12px; /* Reduced padding, especially horizontal for more message space */
            }

            .message {
                padding: 10px 15px; /* Reduced padding for messages */
                max-width: 92%; /* Allow messages to use a bit more width */
                font-size: 0.9em; /* Slightly smaller text in messages for more content visibility */
            }

            #input-area {
                flex-direction: column; /* Stack input field and button vertically */
                padding: 12px 15px; /* Adjusted padding for the input area */
            }

            #user-input {
                margin-right: 0; /* Remove right margin as it's stacked now */
                margin-bottom: 10px; /* Add space between input and button */
                padding: 12px 18px; 
                font-size: 0.95em; /* Adjust font size for mobile input */
            }

            #send-button {
                width: 100%; /* Make button full width */
                padding: 12px; /* Adjust padding for full width button */
                font-size: 0.95em; /* Adjust font size for mobile button */
            }

            #loading {
                padding: 10px;
                font-size: 0.9em;
            }
            #loading::before { /* Spinner size for mobile */
                width: 18px;
                height: 18px;
                margin-right: 8px;
            }

            /* Slimmer scrollbar for mobile for Webkit browsers */
            #chat-log::-webkit-scrollbar {
                width: 5px;
            }
            #chat-log::-webkit-scrollbar-thumb {
                border: 1px solid var(--bg-secondary); /* Thinner border for thumb for a cleaner look */
            }
        }
        /* END: Added styles for responsiveness */
    </style>
</head>
<body>
    <div id="chat-container">
        <div id="chat-header">AI Thumbnail Prompt Synthesizer</div>
        <div id="chat-log">
            <!-- Chat messages will be displayed here -->
        </div>
        <div id="loading" style="display:none;">Synthesizing prompt...</div>
        <div id="input-area">
            <input type="text" id="user-input" placeholder="Enter your topic or title...">
            <button id="send-button">Synthesize</button>
        </div>
    </div>

    <script type="module">
        // Security Warning: Embedding API keys directly in client-side code is insecure.
        // This is for personal testing and educational purposes only.
        const API_KEY = "AIzaSyCFGcghPWTi_nY6T07R6_E4aSksNkQunKY"; // YOUR_API_KEY

        import { GoogleGenerativeAI } from "https://esm.run/@google/generative-ai";

        const chatLog = document.getElementById('chat-log');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');
        const loadingIndicator = document.getElementById('loading');

        let genAI, model;

        const UEF_PROMPT_TEMPLATE = `Act as an advanced visual strategist using the 'Universal Engagement Framework (UEF)' to generate detailed image prompts for creating visually stunning and curiosity-driven thumbnails or visuals. Provide only one input: the topic or title of the content. Based on this input, perform the following steps:

Positive Steps to Follow:
Analyze Topic and Audience Psychology, identify curiosity triggers, pain points, and elements that will make the thumbnail 100% click-attractive:
Identify the core emotions, desires, fears, and aspirations associated with the topic's core purpose.
Determine the target audience's pain points relevant to the topic's core purpose.
Select Key Elements Using the CTR Optimization Formula:
Focal Point: Automatically choose a visually striking subject (e.g., a glowing object, a dramatic scene, or an expressive face relevant to the topic's core purpose) that aligns with the topic.
Curiosity Gap: Create suspense or mystery by hinting at something surprising, shocking, curiosity-inducing (100% stop scrolling visualize) or valuable without revealing too much.
Emotional Trigger: Use visual elements that evoke strong emotions like excitement, fear, aspiration, curiosity, or shock.
High-Contrast Colors: Recommend a color palette with bright colors against dark backgrounds (e.g., neon blue, gold, red, or other colors relevant to the topic's core purpose) to enhance visibility.
Dynamic Composition: Place the focal point slightly off-center, using diagonal lines, motion blur, or glowing effects relevant to the topic's core purpose to guide the viewer’s eye.
Platform-Specific Optimization:
For YouTube video
Simulate Real-Time Metrics:
Predict expected CTR, engagement, and virality based on the thumbnail’s psychological and visual appeal, including elements of shock or curiosity, relevant to the topic's core purpose.
Output a Detailed Image Prompt:
Provide a step-by-step blueprint for creating the image, including focal point, emotional triggers, curiosity gaps, color schemes, composition, etc., all tailored to the topic's core purpose.
Ensure the output is ready to use with AI text-to-image tools; explain well so that even if I use a low-quality AI, I still get a good quality result.
Final Note:
Do not generate a direct image—only provide a blueprint for creating one.
Please note: Do not add any text to this image—use visuals only to keep the design clean, professional, and impactful.

Negative Prompt (What NOT to Include):
To ensure 100% accuracy, avoid the following pitfalls in the output:

Use this style for image: { Analyze and use an image style for the image:  
Hyper-realistic cinematic 3D render with ultra-detailed textures and lifelike anatomy. Realistic lighting, crystal-clear, or otherwise tailored to the topic's core purpose. Emotion-rich character expression (e.g., showing veins, effort, tension, or other emotions relevant to the topic's core purpose). Wet skin details. Heavy use of dynamic contrast, soft shadows, and atmospheric depth. CGI-enhanced VFX: rising air bubbles, fluid motion blur, and particle refractions. Composition inspired by cinematic film frames—slightly off-center subjects, leading diagonals, and tension-rich poses relevant to the topic's core purpose. No text, no UI, pure immersive drama. Rendered with ultra-high clarity and depth.

 --ar 16:9 --v 5 --style raw --q 2 --quality ultra --no text, watermark, frame
} 

Avoid Overly Generic Visuals:
Do not suggest bland or overused visuals like plain stock photos or generic icons (e.g., a lightbulb for "ideas").
Avoid Misleading Elements:
Do not create visuals that mislead the audience about the content’s actual topic or value.
Avoid Overloading the Composition:
Do not clutter the image with too many elements. Stick to one clear focal point and minimal supporting visuals.
Avoid Low-Contrast Color Palettes:
Do not recommend muted or low-contrast colors (e.g., pastels on white backgrounds) that fail to grab attention.
Avoid Text in the Final Output:
Ensure no text is included in the final image blueprint, keeping it purely visual.
Avoid Unrealistic Predictions:
Do not exaggerate the predicted CTR or engagement metrics. Base predictions on realistic psychological and visual appeal factors.
Avoid Ignoring Platform Guidelines:
Do not provide dimensions or formats that don’t align with platform-specific requirements (e.g., square for TikTok instead of vertical).
Avoid Repetitive Emotional Triggers:
Do not rely solely on overused emotional triggers like fear or greed. Balance them with positive triggers like inspiration or curiosity.
Avoid Overusing Glowing Effects:
While glowing effects can enhance visuals, overusing them can make the design look cheap or overproduced. Use them sparingly and purposefully.
Avoid Ignoring Cultural Sensitivities:
Do not include visuals or.elements that could be culturally insensitive or offensive to specific audiences.

Pro tips: To create a viral thumbnail, the image must have a strong focal point—like a glowing object, an expressive face, or a dramatic scene—that immediately grabs attention. A curiosity gap is essential: show something that creates suspense but doesn't reveal the whole secret (e.g., a half-open door, a glimpse of something). Visuals should have an emotional trigger: shock, fear, awe, or aspiration that makes the viewer stop scrolling. Use high-contrast colors—like neon red, electric blue, and deep blacks—so the image stands out on any background. The composition should be dynamic, with the focal point slightly off-center, and diagonal angles and lighting creating depth. The style can be Pixar-Disney-like 2D animation, enhanced with CGI and VFX for a cinematic feel. The image should have no text, only visuals that tell a story. The thumbnail must look sharp even on mobile, and keywords for low-quality AI tools should be clearly written (e.g., "glowing ancient scroll in dark room with golden light rays"). Use symbols—like a clock to show urgency, a mask to represent secrets—to create a subconscious connection. The visual should not be cluttered, avoid misleading or generic icons, and add a new emotional layer each time to compel the viewer to click.
---
The user's topic is: {{USER_TOPIC_PLACEHOLDER}}
---
Based on all the above instructions and the provided topic, generate *only* the final, detailed image prompt suitable for an AI text-to-image generator. The prompt should be comprehensive and directly usable.`;

        try {
            genAI = new GoogleGenerativeAI(API_KEY);
            model = genAI.getGenerativeModel({ model: "gemini-1.5-flash-latest" }); 
            
            displayMessage("Greetings! I am the AI Thumbnail Prompt Synthesizer. Input your topic or title, and I shall craft a detailed image prompt for your creative endeavors.", "ai");

        } catch (error) {
            console.error("Error initializing AI Synthesizer:", error);
            displayMessage("Critical Error: AI Synthesizer core offline. Please verify API key integrity or system configuration.", "ai");
            sendButton.disabled = true;
            userInput.disabled = true;
        }
        
        sendButton.addEventListener('click', generateImagePrompt);
        userInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                generateImagePrompt();
            }
        });

        function displayMessage(message, sender) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', sender === 'user' ? 'user-message' : 'ai-message');
            
            let formattedMessage = message
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/\n/g, '<br>');

            messageElement.innerHTML = formattedMessage;
            chatLog.appendChild(messageElement);
            chatLog.scrollTop = chatLog.scrollHeight;
        }

        async function generateImagePrompt() {
            const userTopic = userInput.value.trim();
            if (userTopic === '' || !model) return;

            displayMessage(`Input Topic: ${userTopic}`, 'user');
            userInput.value = '';
            loadingIndicator.style.display = 'flex'; // Changed to flex for spinner alignment
            sendButton.disabled = true;
            userInput.disabled = true;

            const fullPromptForAI = UEF_PROMPT_TEMPLATE.replace("{{USER_TOPIC_PLACEHOLDER}}", userTopic);
            
            try {
                const result = await model.generateContent(fullPromptForAI);
                const response = await result.response;
                const aiText = response.text();
                displayMessage(aiText, 'ai');
            } catch (error) {
                console.error('Error synthesizing prompt from AI:', error);
                let errorMessage = 'Apologies, a synthesis error occurred. Please re-initiate.';
                if (error.message && error.message.includes('API key not valid')) {
                    errorMessage = 'Authentication Failure: API key invalid. Please verify.';
                } else if (error.message && error.message.toLowerCase().includes('quota')) {
                    errorMessage = 'System Overload: API quota exhausted. Standby for recharge.';
                }
                displayMessage(errorMessage, 'ai');
            } finally {
                loadingIndicator.style.display = 'none';
                sendButton.disabled = false;
                userInput.disabled = false;
                userInput.focus();
            }
        }
    </script>
</body>
</html>